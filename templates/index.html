<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='icon.png') }}">
    <title>O.L.E.G. - Home</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="{{ url_for('static', filename='home.css') }}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>
    <!-- Main Navigation -->
    <nav class="main-nav">
        <div class="nav-brand">
            <img src="{{ url_for('static', filename='icon.png') }}" alt="OLEG" class="nav-logo">
            <span class="nav-title">O.L.E.G.</span>
        </div>
        <div class="nav-actions">
            <button class="btn-icon" title="Settings">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"/>
                </svg>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Header Section -->
        <header class="page-header">
            <div class="header-content">
                <h1 class="page-title">My Courses</h1>
                <p class="page-subtitle">Create personalized learning paths with AI-powered study guides</p>
            </div>
            <button class="btn-primary" onclick="window.location.href='/new_course'">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"/>
                </svg>
                Create New Course
            </button>
        </header>

        <!-- Courses Grid -->
        <div class="courses-container">
            {% if courses %}
                <div class="courses-grid">
                    {% for course in courses %}
                    <div class="course-card" onclick="window.location.href='/course/{{ course.id }}'">
                        <div class="course-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
                                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
                            </svg>
                        </div>
                        <div class="course-info">
                            <h3 class="course-title">{{ course.name }}</h3>
                            <p class="course-meta">20-week study plan • AI-generated</p>
                        </div>
                        <div class="course-arrow">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"/>
                            </svg>
                        </div>
                    </div>
                    {% endfor %}
                </div>

                <!-- Clear All Button -->
                <div class="danger-zone">
                    <button class="btn-danger" id="clearAll">
                        <svg width="18" height="18" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"/>
                        </svg>
                        Delete All Courses
                    </button>
                </div>
            {% else %}
                <!-- Empty State -->
                <div class="empty-state">
                    <div class="empty-icon">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"/>
                        </svg>
                    </div>
                    <h3>No courses yet</h3>
                    <p>Create your first AI-powered course to get started</p>
                    <button class="btn-primary" onclick="window.location.href='/new_course'">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"/>
                        </svg>
                        Create Your First Course
                    </button>
                </div>
            {% endif %}
        </div>
    </div>

    <script>
        $(document).ready(function(){
            $('#clearAll').click(function(){
                if(confirm('⚠️ This will permanently delete all your courses. Continue?')) {
                    $.post('/clear_courses', function(response) {
                        if(response.status === 'success') {
                            location.reload();
                        }
                    }).fail(function() {
                        alert('Error clearing courses. Please try again.');
                    });
                }
            });

            // Add hover animations to course cards
            $('.course-card').hover(
                function() { $(this).addClass('hover'); },
                function() { $(this).removeClass('hover'); }
            );
        });
    </script>
</body>
</html>